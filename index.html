<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>VladOS</title>
  <style>
    /* –û–±—â–∏–µ —Å—Ç–∏–ª–∏ */
    body, html {
      margin: 0;
      padding: 0;
      height: 100%;
      font-family: sans-serif;
      background: linear-gradient(to bottom right, #2a2a72, #009ffd);
      overflow: hidden;
      user-select: none;
    }

    /* –†–∞–±–æ—á–∏–π —Å—Ç–æ–ª */
    .desktop {
      position: relative;
      width: 100vw;
      height: 100vh;
      padding: 20px;
      box-sizing: border-box;
    }

    /* –ò–∫–æ–Ω–∫–∏ */
    .icon {
      position: absolute;
      width: 60px;
      text-align: center;
      color: white;
      cursor: pointer;
      transition: transform 0.2s ease;
    }

    .icon img {
      width: 48px;
      height: 48px;
      pointer-events: none;
    }

    /* –ü–∞–Ω–µ–ª—å –∑–∞–¥–∞—á */
    .taskbar {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 50px;
      background: rgba(0, 0, 0, 0.6);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 10px;
      box-sizing: border-box;
      z-index: 1000;
      color: white;
      backdrop-filter: blur(10px);
    }

    .taskbar .start {
      color: white;
      background: #004080;
      border: none;
      padding: 5px 15px;
      font-weight: bold;
      border-radius: 5px;
      cursor: pointer;
      transition: background 0.3s ease;
    }

    .taskbar .start:hover {
      background: #0066cc;
    }

    .taskbar .system-icons {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .taskbar .system-icons span {
      display: flex;
      align-items: center;
      gap: 5px;
      cursor: pointer;
    }

    /* –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é */
    .context-menu {
      position: absolute;
      background: #fff;
      color: black;
      box-shadow: 0 0 10px rgba(0,0,0,0.3);
      border-radius: 4px;
      padding: 5px 0;
      z-index: 2000;
      display: none;
      min-width: 150px;
    }

    .context-menu-item {
      padding: 8px 15px;
      cursor: pointer;
      transition: background 0.2s;
    }

    .context-menu-item:hover {
      background: #eee;
    }

    /* –û–∫–Ω–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π */
    .window {
      position: absolute;
      width: 400px;
      height: 300px;
      background: #f8f8f8;
      border-radius: 8px;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.3);
      display: flex;
      flex-direction: column;
      overflow: hidden;
      z-index: 1000;
      animation: fadeIn 0.3s ease;
    }

    .window .titlebar {
      background: #004080;
      color: white;
      padding: 8px 12px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-weight: bold;
      cursor: move;
    }

    .window .content {
      flex: 1;
      padding: 20px;
      overflow: auto;
    }

    .window .resize-handle {
      position: absolute;
      width: 10px;
      height: 10px;
      right: 0;
      bottom: 0;
      cursor: se-resize;
      background: transparent;
    }

    /* –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è */
    @keyframes fadeIn {
      from { opacity: 0; transform: scale(0.95); }
      to   { opacity: 1; transform: scale(1); }
    }

    /* –ú–µ–Ω—é "–ü—É—Å–∫" */
    .start-menu {
      position: absolute;
      bottom: 60px;
      left: 10px;
      width: 200px;
      background: #ffffff;
      border: 1px solid #ccc;
      border-radius: 5px;
      box-shadow: 0 0 10px rgba(0,0,0,0.3);
      display: none;
      z-index: 2000;
    }

    .start-menu-item {
      padding: 10px;
      cursor: pointer;
      border-bottom: 1px solid #eee;
    }

    .start-menu-item:hover {
      background: #f0f0f0;
    }

    /* –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è */
    .notification {
      position: fixed;
      bottom: 60px;
      right: 20px;
      background: #323232;
      color: white;
      padding: 10px 20px;
      border-radius: 5px;
      box-shadow: 0 0 10px rgba(0,0,0,0.3);
      display: none;
      z-index: 3000;
    }
  </style>
</head>
<body>
  <div class="desktop" id="desktop">
    <div class="icon" style="top: 20px; left: 20px;" draggable="false" onclick="openWindow('Editor')">
      <img src="https://cdn-icons-png.flaticon.com/512/281/281764.png" alt="Editor" />
      <div>Editor</div>
    </div>
        <div class="icon" style="top: 100px; left: 20px;" draggable="false" onclick="openWindow('Terminal')">
      <img src="https://cdn-icons-png.flaticon.com/512/2541/2541988.png" alt="Terminal" />
      <div>Terminal</div>
    </div>
  </div>

  <!-- –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é -->
  <div class="context-menu" id="contextMenu">
    <div class="context-menu-item" onclick="openWindow('New App')">üì¶ –ù–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</div>
    <div class="context-menu-item" onclick="showNotification('–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–∞–±–æ—á–µ–≥–æ —Å—Ç–æ–ª–∞!')">üîî –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ</div>
  </div>

  <!-- –ü–∞–Ω–µ–ª—å –∑–∞–¥–∞—á -->
  <div class="taskbar">
    <button class="start" onclick="toggleStartMenu()">–ü—É—Å–∫</button>
    <div class="system-icons">
      <span onclick="showNotification('–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–∫–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã')">‚öôÔ∏è</span>
      <span onclick="showNotification(new Date().toLocaleTimeString())">üïí</span>
    </div>
  </div>

  <!-- –ú–µ–Ω—é –ü—É—Å–∫ -->
  <div class="start-menu" id="startMenu">
    <div class="start-menu-item" onclick="openWindow('–ë–ª–æ–∫–Ω–æ—Ç')">üìù –ë–ª–æ–∫–Ω–æ—Ç</div>
    <div class="start-menu-item" onclick="openWindow('–¢–µ—Ä–º–∏–Ω–∞–ª')">üíª –¢–µ—Ä–º–∏–Ω–∞–ª</div>
    <div class="start-menu-item" onclick="openWindow('–ü—Ä–æ–≤–æ–¥–Ω–∏–∫')">üìÅ –ü—Ä–æ–≤–æ–¥–Ω–∏–∫</div>
  </div>

  <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ -->
  <div class="notification" id="notification"></div>

  <!-- –°–∫—Ä–∏–ø—Ç—ã -->
  <script>
    const desktop = document.getElementById('desktop');
    const contextMenu = document.getElementById('contextMenu');
    const startMenu = document.getElementById('startMenu');
    const notification = document.getElementById('notification');

    // –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é
    desktop.addEventListener('contextmenu', e => {
      e.preventDefault();
      contextMenu.style.left = e.pageX + 'px';
      contextMenu.style.top = e.pageY + 'px';
      contextMenu.style.display = 'block';
    });

    document.addEventListener('click', () => {
      contextMenu.style.display = 'none';
      startMenu.style.display = 'none';
    });

    // –ú–µ–Ω—é –ü—É—Å–∫
    function toggleStartMenu() {
      startMenu.style.display = (startMenu.style.display === 'block') ? 'none' : 'block';
    }

    // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
    function showNotification(message) {
      notification.textContent = message;
      notification.style.display = 'block';
      setTimeout(() => notification.style.display = 'none', 3000);
    }

    // –°–æ–∑–¥–∞–Ω–∏–µ –æ–∫–Ω–∞
    function openWindow(title) {
      const win = document.createElement('div');
      win.className = 'window';
      win.style.left = Math.random() * 300 + 'px';
      win.style.top = Math.random() * 200 + 'px';
      win.innerHTML = `
        <div class="titlebar">
          <span>${title}</span>
          <span style="cursor: pointer;" onclick="this.closest('.window').remove()">‚ùå</span>
        </div>
        <div class="content">
          –≠—Ç–æ –æ–∫–Ω–æ "${title}".
        </div>
        <div class="resize-handle"></div>
      `;
      desktop.appendChild(win);
      makeDraggable(win);
      makeResizable(win);
    }

    // –ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ –æ–∫–æ–Ω
    function makeDraggable(win) {
      const bar = win.querySelector('.titlebar');
      let isDragging = false, offsetX, offsetY;

      bar.addEventListener('mousedown', e => {
        isDragging = true;
        offsetX = e.clientX - win.offsetLeft;
        offsetY = e.clientY - win.offsetTop;
        win.style.zIndex = 2000;
      });

      document.addEventListener('mousemove', e => {
        if (isDragging) {
          win.style.left = (e.clientX - offsetX) + 'px';
          win.style.top = (e.clientY - offsetY) + 'px';
        }
      });

      document.addEventListener('mouseup', () => isDragging = false);
    }

    // –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤ –æ–∫–Ω–∞
    function makeResizable(win) {
      const handle = win.querySelector('.resize-handle');
      let isResizing = false, startX, startY, startWidth, startHeight;

      handle.addEventListener('mousedown', e => {
        isResizing = true;
        startX = e.clientX;
        startY = e.clientY;
        startWidth = win.offsetWidth;
        startHeight = win.offsetHeight;
        e.preventDefault();
        e.stopPropagation();
      });

      document.addEventListener('mousemove', e => {
        if (isResizing) {
          win.style.width = (startWidth + e.clientX - startX) + 'px';
          win.style.height = (startHeight + e.clientY - startY) + 'px';
        }
      });

      document.addEventListener('mouseup', () => isResizing = false);
    }

    // –ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ –∏–∫–æ–Ω–æ–∫
    const icons = document.querySelectorAll('.icon');
    icons.forEach(icon => {
      let offsetX, offsetY, dragging = false;

      icon.addEventListener('mousedown', e => {
        offsetX = e.offsetX;
        offsetY = e.offsetY;
        dragging = true;
      });

      document.addEventListener('mousemove', e => {
        if (dragging) {
          icon.style.left = (e.pageX - offsetX) + 'px';
          icon.style.top = (e.pageY - offsetY) + 'px';
        }
      });

      document.addEventListener('mouseup', () => dragging = false);
    });
  </script>
</body>
</html>
